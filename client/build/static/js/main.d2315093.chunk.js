(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{32:function(e,t,a){e.exports=a(70)},37:function(e,t,a){},38:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(15),o=a.n(r),c=(a(37),a(38),a(1)),m=a(3),s=a(8),i=a.n(s),u=a(12),d=a.n(u);var p=function(e){var t=e.uploadModal,a=e.closeModal,r=Object(n.useState)(""),o=Object(m.a)(r,2),c=o[0],s=o[1],u=Object(n.useState)(""),p=Object(m.a)(u,2),g=p[0],b=p[1],f=function(e){"title"===e.target.name?s(e.target.value):b(e.target.value)};return l.a.createElement("div",null,l.a.createElement(d.a,{isOpen:t,style:{content:{height:"auto",width:"50%",top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},ariaHideApp:!1},l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center text-info"},"Write Your blog"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={headers:{"auth-token":JSON.parse(localStorage.getItem("token"))}},n={id:parseInt(localStorage.getItem("id")),name:localStorage.getItem("name"),title:c,blog:g};i.a.post("http://localhost:5000/upload",n,t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),a()}},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{onChange:f,value:c,type:"text",className:"form-control",placeholder:"Your title here",name:"title"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{name:"blog",cols:"30",rows:"10",onChange:f,className:"form-control",placeholder:"Your blog here",value:g})),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:a},"cancel"),l.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Add"))))))};var g=function(e){var t=e.title,a=e.post,n=e.setFlag,r=e.closeModal;return l.a.createElement(d.a,{isOpen:n,style:{content:{height:"auto",width:"50%",top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},ariaHideApp:!1},l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center text-info"},t),l.a.createElement("p",null,a)),l.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:r},"cancel"))};var b=function(e){var t=e.blog,a=Object(n.useState)(""),r=Object(m.a)(a,2),o=r[0],c=r[1],s=Object(n.useState)(""),i=Object(m.a)(s,2),u=i[0],d=i[1],p=Object(n.useState)(!1),b=Object(m.a)(p,2),f=b[0],E=b[1];return l.a.createElement("div",{className:"border mt-2 p-3"},l.a.createElement("span",{className:"text-primary"},t.username),l.a.createElement("h2",{className:"text-info"},t.title),l.a.createElement("p",null,t.blog.slice(0,100)),l.a.createElement("button",{onClick:function(e){e.preventDefault();var t=JSON.parse(e.target.value);c(t.title),d(t.blog),E(!0)},value:JSON.stringify(t)},"Read More"),f&&l.a.createElement(g,{title:o,post:u,setFlag:f,closeModal:function(){E(!1)}}))};var f=function(e){var t=e.data;return l.a.createElement("div",null,t.map((function(e,t){return l.a.createElement(b,{blog:e,key:t})})))};var E=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),c=Object(m.a)(o,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){var e={headers:{"auth-token":JSON.parse(localStorage.getItem("token"))}};i.a.get("http://localhost:5000/dashboard",e).then((function(e){r(e.data.response.reverse())})).catch((function(e){return console.log(e)}))}),[s]),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card mt-3"},l.a.createElement("div",{className:"card-header d-flex justify-content-between p-3 shadow"},l.a.createElement("h2",{className:"text-info font-weight-bolder"},"Read Blogs"),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-info font-weight-bolder",onClick:function(e){e.preventDefault(),u(!0)}},"Create Blog"),l.a.createElement("button",{className:"btn btn-danger font-weight-bolder ml-2",onClick:function(e){e.preventDefault(),localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("id"),window.location.href="/login"}},"Log out")))),s&&l.a.createElement(p,{uploadModal:s,closeModal:function(){u(!1)}}),a&&l.a.createElement(f,{data:a,readBlog:function(e){}}))},v=a(10);var h=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),c=Object(m.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)(""),p=Object(m.a)(d,2),g=p[0],b=p[1],f=function(e){"name"===e.target.id?r(e.target.value):"email"===e.target.id?u(e.target.value):b(e.target.value)};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card form-card shadow"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h2",{className:"text-center text-primary"},"Register")),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={name:a,email:s,password:g};i.a.post("http://localhost:5000/register",t).then((function(e){var t=e.data,n=t.id,l=t.token;localStorage.setItem("name",JSON.stringify(a)),localStorage.setItem("id",JSON.stringify(n)),localStorage.setItem("token",JSON.stringify(l)),window.location.href="/"})).catch((function(e){return console.log(e)}))}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name"},"Name:"),l.a.createElement("input",{onChange:f,value:a,type:"text",className:"form-control",placeholder:"Enter your name",id:"name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email address:"),l.a.createElement("input",{onChange:f,value:s,type:"email",className:"form-control",placeholder:"Enter your email",id:"email"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password:"),l.a.createElement("input",{onChange:f,value:g,type:"password",className:"form-control",placeholder:"Enter your Password",id:"password"})),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Submit"),l.a.createElement(v.b,{to:"/login",className:"ml-5"},"Go to Login"))))))};var N=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(""),s=Object(m.a)(c,2),u=s[0],d=s[1],p=function(e){"email"===e.target.id?o(e.target.value):d(e.target.value)};return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card form-card shadow"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h2",{className:"text-center text-primary"},"Login")),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={email:r,password:u};i.a.post("http://localhost:5000/login",t).then((function(e){var t=e.data,a=t.name,n=t.id,l=t.token;localStorage.setItem("name",JSON.stringify(a)),localStorage.setItem("id",JSON.stringify(n)),localStorage.setItem("token",JSON.stringify(l)),window.location.href="/"})).catch((function(e){return console.log(e)}))}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email address:"),l.a.createElement("input",{onChange:p,value:r,type:"email",className:"form-control",placeholder:"Enter your email",id:"email"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password:"),l.a.createElement("input",{onChange:p,value:u,type:"password",className:"form-control",placeholder:"Enter your Password",id:"password"})),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Submit"),l.a.createElement(v.b,{to:"/register",className:"ml-5"},"Go to Register"))))))},S=function(){return localStorage.getItem("token")?l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{to:"/"}),l.a.createElement(c.b,{exact:!0,path:"/",component:E})):l.a.createElement(c.d,null,l.a.createElement(c.b,{exact:!0,path:"/register",component:h}),l.a.createElement(c.b,{exact:!0,path:"/login",component:N}))};var y=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,null))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(v.a,null,l.a.createElement(y,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.d2315093.chunk.js.map